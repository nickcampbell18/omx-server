<!DOCTYPE html>
<html>
  <body>
    <ul id='queue'></ul>
    <script src='zepto.min.js'></script>
    <script>

    var controller = {
      populate_queue: function(list){
        $('#queue').html('');
        $(list).each(function(_, obj){
          $('#queue').append("<li>"+obj+"</li>");
        });
      },
      respond_to: function(data){
        data = $.parseJSON(data);
        this.populate_queue(data["queue"]);
      }
    };

    var socket = new WebSocket('ws://0.0.0.0:8080');

    socket.onmessage = function(msg) {
      controller.respond_to(msg.data);
    };

    </script>
  </body>
</html>